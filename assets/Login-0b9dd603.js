import{a as i}from"./runtime-dom.esm-bundler-6f3b7d2d.js";import{_ as p}from"./MessageBlock.vue_vue_type_script_setup_true_lang-d45720c9.js";import{r as _}from"./index-b026ae4d.js";import{a as f,U as h}from"./axios-2f89820f.js";import{G as l,o as c,c as d,a as e,b as v,N as b,J as m}from"./runtime-core.esm-bundler-c941a8b7.js";import"./vue-router-275fa628.js";import"./utils-4f7fe0fc.js";const y={class:"d-flex justify-content-center align-items-center py-5",style:{height:"80vh"}},g={class:"col-4 card"},w={class:"card-body"},x={key:0,class:"alert alert-danger",role:"alert"},k={class:"form-group my-3"},N=e("label",{for:"username",class:"form-label"},"Имя пользователя",-1),V={class:"form-group"},U=e("label",{for:"username",class:"form-label"},"Пароль",-1),B={class:"input-group my-3",id:"show_hide_password"},S=e("button",{class:"btn btn-secondary",type:"button",onclick:""},[e("i",{id:"icon",class:"bi bi-eye-fill"})],-1),G={__name:"Login",setup(C){const o=l(""),t=l(""),n=l(!1);function u(){f({method:"POST",url:h+"/login",data:{login:o.value,password:t.value}}).then(a=>{console.log(a.data),localStorage.setItem("user",JSON.stringify(a.data.user)),_.push({name:"homepage"})}).catch(()=>{n.value=!0})}return(a,s)=>(c(),d("div",y,[e("div",g,[e("div",w,[v(p),n.value?(c(),d("div",x," Неправильный логин или пароль ")):b("",!0),e("div",k,[N,m(e("input",{type:"text",name:"username",id:"username",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=r=>o.value=r)},null,512),[[i,o.value]])]),e("div",V,[U,e("div",B,[m(e("input",{type:"password",name:"password",id:"pass",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=r=>t.value=r)},null,512),[[i,t.value]]),S])]),e("button",{class:"btn btn-primary my-3",onClick:u},"Зайти")])])]))}};export{G as default};
